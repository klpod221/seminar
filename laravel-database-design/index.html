<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Laravel Database Design - Seminar by klpod221</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
    />
  </head>
  <body>
    <div class="presentation">
      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>

      <!-- Slide 1: Title -->
      <section class="slide active" data-slide="1">
        <div class="slide-content title-slide">
          <div class="badge">SEMINAR</div>
          <h1>
            Thi·∫øt K·∫ø C∆° S·ªü D·ªØ Li·ªáu<br /><span class="gradient-text"
              >N√¢ng Cao Trong Laravel</span
            >
          </h1>
          <p class="subtitle">
            H∆∞·ªõng d·∫´n to√†n di·ªán v·ªÅ thi·∫øt k·∫ø v√† tri·ªÉn khai database
          </p>
          <div class="presenter">
            <img
              class="avatar"
              src="https://github.com/klpod221.png"
              alt="klpod221"
            />
            <div>
              <strong>klpod221</strong>
              <span>Full Stack Developer</span>
            </div>
          </div>
          <div class="start-hint">
            <span>Nh·∫•n <kbd>‚Üí</kbd> ho·∫∑c <kbd>Space</kbd> ƒë·ªÉ b·∫Øt ƒë·∫ßu</span>
          </div>
        </div>
      </section>

      <!-- Slide 2: Table of Contents -->
      <section class="slide" data-slide="2">
        <div class="slide-content">
          <h2>üìã N·ªôi Dung Tr√¨nh B√†y</h2>
          <div class="toc-grid">
            <button class="toc-item" onclick="goToSlide(3)">
              <span class="toc-number">01</span>
              <span class="toc-title">ACID Properties</span>
            </button>
            <button class="toc-item" onclick="goToSlide(8)">
              <span class="toc-number">02</span>
              <span class="toc-title">Chu·∫©n H√≥a D·ªØ Li·ªáu</span>
            </button>
            <button class="toc-item" onclick="goToSlide(12)">
              <span class="toc-number">03</span>
              <span class="toc-title">Migration N√¢ng Cao</span>
            </button>
            <button class="toc-item" onclick="goToSlide(15)">
              <span class="toc-number">04</span>
              <span class="toc-title">Eloquent Relationships</span>
            </button>
            <button class="toc-item" onclick="goToSlide(22)">
              <span class="toc-number">05</span>
              <span class="toc-title">Query Optimization</span>
            </button>
            <button class="toc-item" onclick="goToSlide(30)">
              <span class="toc-number">06</span>
              <span class="toc-title">Best Practices</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Slide 3: ACID Introduction -->
      <section class="slide" data-slide="3">
        <div class="slide-content">
          <div class="section-badge">Ph·∫ßn 1</div>
          <h2>üîê ACID Properties</h2>
          <p class="slide-description">
            B·ªën thu·ªôc t√≠nh quan tr·ªçng ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn c·ªßa d·ªØ li·ªáu
          </p>
          <div class="cards-grid">
            <div class="card card-blue">
              <div class="card-icon">‚öõÔ∏è</div>
              <h3>Atomicity</h3>
              <p>T√≠nh nguy√™n t·ª≠ - T·∫•t c·∫£ ho·∫∑c kh√¥ng g√¨ c·∫£</p>
            </div>
            <div class="card card-green">
              <div class="card-icon">‚úì</div>
              <h3>Consistency</h3>
              <p>T√≠nh nh·∫•t qu√°n - D·ªØ li·ªáu lu√¥n h·ª£p l·ªá</p>
            </div>
            <div class="card card-purple">
              <div class="card-icon">üîí</div>
              <h3>Isolation</h3>
              <p>T√≠nh c√¥ l·∫≠p - Transactions ƒë·ªôc l·∫≠p</p>
            </div>
            <div class="card card-orange">
              <div class="card-icon">üíæ</div>
              <h3>Durability</h3>
              <p>T√≠nh b·ªÅn v·ªØng - L∆∞u tr·ªØ vƒ©nh vi·ªÖn</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 4: Atomicity Example -->
      <section class="slide" data-slide="4">
        <div class="slide-content">
          <h2>‚öõÔ∏è Atomicity - V√≠ D·ª• Chuy·ªÉn Ti·ªÅn</h2>
          <div class="two-columns">
            <div class="column">
              <div class="scenario-box">
                <h4>üìã K·ªãch b·∫£n</h4>
                <p>Chuy·ªÉn 1,000,000ƒë t·ª´ t√†i kho·∫£n A ‚Üí B</p>
                <ol>
                  <li>Tr·ª´ ti·ªÅn t·ª´ A</li>
                  <li>C·ªông ti·ªÅn v√†o B</li>
                </ol>
                <div class="alert alert-warning">
                  ‚ö†Ô∏è N·∫øu b∆∞·ªõc 2 th·∫•t b·∫°i, b∆∞·ªõc 1 ph·∫£i rollback!
                </div>
              </div>
            </div>
            <div class="column">
              <pre><code class="language-php">DB::transaction(function () {
    $accountA = Account::find(1);
    $accountB = Account::find(2);
    
    $accountA->balance -= 1000000;
    $accountA->save();
    
    $accountB->balance += 1000000;
    $accountB->save();
    // L·ªói ·ªü ƒë√¢y ‚Üí C·∫£ 2 rollback
});</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 5: Consistency Example -->
      <section class="slide" data-slide="5">
        <div class="slide-content">
          <h2>üìê Consistency - R√†ng Bu·ªôc D·ªØ Li·ªáu</h2>
          <p class="slide-description">
            D·ªØ li·ªáu ph·∫£i lu√¥n ·ªü tr·∫°ng th√°i h·ª£p l·ªá tr∆∞·ªõc v√† sau m·ªói transaction
          </p>
          <div class="two-columns">
            <div class="column">
              <div class="constraint-list">
                <div class="constraint-item">
                  <span class="constraint-name">PRIMARY KEY</span>
                  <span class="constraint-desc"
                    >ƒê·ªãnh danh duy nh·∫•t m·ªói row</span
                  >
                </div>
                <div class="constraint-item">
                  <span class="constraint-name">FOREIGN KEY</span>
                  <span class="constraint-desc"
                    >Gi√° tr·ªã ph·∫£i t·ªìn t·∫°i trong b·∫£ng tham chi·∫øu</span
                  >
                </div>
                <div class="constraint-item">
                  <span class="constraint-name">UNIQUE</span>
                  <span class="constraint-desc"
                    >Kh√¥ng cho ph√©p gi√° tr·ªã tr√πng l·∫∑p</span
                  >
                </div>
                <div class="constraint-item">
                  <span class="constraint-name">NOT NULL</span>
                  <span class="constraint-desc"
                    >C·ªôt b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã</span
                  >
                </div>
                <div class="constraint-item">
                  <span class="constraint-name">CHECK</span>
                  <span class="constraint-desc"
                    >Gi√° tr·ªã ph·∫£i th·ªèa m√£n ƒëi·ªÅu ki·ªán</span
                  >
                </div>
              </div>
            </div>
            <div class="column">
              <pre><code class="language-php">// ‚ùå Vi ph·∫°m Foreign Key
Order::create(['user_id' => 999]);
// Error: User kh√¥ng t·ªìn t·∫°i!

// ‚ùå Vi ph·∫°m Unique
User::create(['email' => 'existing@mail.com']);
// Error: Duplicate entry!

// ‚úÖ ƒê·ªãnh nghƒ©a constraints ƒë√∫ng c√°ch
$table->foreignId('user_id')->constrained();
$table->string('email')->unique();
$table->unsignedInteger('quantity'); // >= 0</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 6: Isolation Example -->
      <section class="slide" data-slide="6">
        <div class="slide-content">
          <h2>üîê Isolation - C√°ch Ly Transaction</h2>
          <p class="slide-description">
            ƒê·∫£m b·∫£o c√°c transaction ƒë·ªìng th·ªùi kh√¥ng ·∫£nh h∆∞·ªüng l·∫´n nhau
          </p>
          <div class="two-columns">
            <div class="column">
              <h4>‚ö†Ô∏è C√°c v·∫•n ƒë·ªÅ c√≥ th·ªÉ x·∫£y ra</h4>
              <div class="isolation-problems">
                <div class="iso-problem">
                  <span class="problem-name">Dirty Read</span>
                  <span class="problem-desc"
                    >ƒê·ªçc data ch∆∞a commit (c√≥ th·ªÉ b·ªã rollback)</span
                  >
                </div>
                <div class="iso-problem">
                  <span class="problem-name">Non-repeatable Read</span>
                  <span class="problem-desc"
                    >ƒê·ªçc 2 l·∫ßn c√πng row, k·∫øt qu·∫£ kh√°c nhau</span
                  >
                </div>
                <div class="iso-problem">
                  <span class="problem-name">Phantom Read</span>
                  <span class="problem-desc"
                    >Query 2 l·∫ßn, s·ªë l∆∞·ª£ng rows kh√°c nhau</span
                  >
                </div>
              </div>
            </div>
            <div class="column">
              <h4>üìä Isolation Levels</h4>
              <div class="isolation-levels">
                <div class="iso-item">
                  <span class="iso-level">READ UNCOMMITTED</span>
                  <span class="iso-risk high">Dirty ‚úó</span>
                </div>
                <div class="iso-item">
                  <span class="iso-level">READ COMMITTED</span>
                  <span class="iso-risk medium">Non-repeat ‚úó</span>
                </div>
                <div class="iso-item">
                  <span class="iso-level">REPEATABLE READ</span>
                  <span class="iso-risk low">Phantom ‚úó</span>
                </div>
                <div class="iso-item">
                  <span class="iso-level">SERIALIZABLE</span>
                  <span class="iso-risk safe">An to√†n ‚úì</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 7: Durability Example -->
      <section class="slide" data-slide="7">
        <div class="slide-content">
          <h2>üíæ Durability - B·ªÅn V·ªØng D·ªØ Li·ªáu</h2>
          <p class="slide-description">
            Sau khi COMMIT, d·ªØ li·ªáu ƒë∆∞·ª£c ƒë·∫£m b·∫£o l∆∞u tr·ªØ vƒ©nh vi·ªÖn d√π c√≥ s·ª± c·ªë
          </p>
          <div class="two-columns">
            <div class="column">
              <h4>üõ°Ô∏è C√°c k·ªπ thu·∫≠t ƒë·∫£m b·∫£o</h4>
              <div class="durability-techniques">
                <div class="dur-tech">
                  <span class="tech-name">WAL (Write-Ahead Log)</span>
                  <span class="tech-desc">Ghi log tr∆∞·ªõc khi ghi data th·ª±c</span>
                </div>
                <div class="dur-tech">
                  <span class="tech-name">Checkpoints</span>
                  <span class="tech-desc">ƒê·ªãnh k·ª≥ ƒë·ªìng b·ªô buffer ‚Üí disk</span>
                </div>
                <div class="dur-tech">
                  <span class="tech-name">Crash Recovery</span>
                  <span class="tech-desc">Ph·ª•c h·ªìi t·ª´ log sau khi restart</span>
                </div>
                <div class="dur-tech">
                  <span class="tech-name">Replication</span>
                  <span class="tech-desc">Sao ch√©p data sang server kh√°c</span>
                </div>
              </div>
            </div>
            <div class="column">
              <h4>üìä Quy tr√¨nh ghi d·ªØ li·ªáu</h4>
              <div class="durability-flow">
                <div class="dur-step">
                  <span class="dur-icon">üìù</span>
                  <div class="dur-info">
                    <span class="dur-title">Write to WAL</span>
                    <span class="dur-detail">Ghi v√†o transaction log</span>
                  </div>
                </div>
                <div class="dur-arrow">‚Üì</div>
                <div class="dur-step">
                  <span class="dur-icon">üíø</span>
                  <div class="dur-info">
                    <span class="dur-title">Buffer Pool</span>
                    <span class="dur-detail">L∆∞u t·∫°m trong memory</span>
                  </div>
                </div>
                <div class="dur-arrow">‚Üì</div>
                <div class="dur-step success">
                  <span class="dur-icon">‚úÖ</span>
                  <div class="dur-info">
                    <span class="dur-title">COMMIT</span>
                    <span class="dur-detail">WAL ƒë∆∞·ª£c flush ‚Üí An to√†n!</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 8: Normalization Intro -->
      <section class="slide" data-slide="8">
        <div class="slide-content">
          <div class="section-badge">Ph·∫ßn 2</div>
          <h2>üîÑ Chu·∫©n H√≥a D·ªØ Li·ªáu</h2>
          <p class="slide-description">
            Qu√° tr√¨nh t·ªï ch·ª©c d·ªØ li·ªáu ƒë·ªÉ gi·∫£m d∆∞ th·ª´a v√† tr√°nh anomalies
          </p>
          <div class="normalization-flow">
            <div class="norm-step">
              <div class="norm-level">UNF</div>
              <span>Unnormalized</span>
            </div>
            <div class="norm-arrow">‚Üí</div>
            <div class="norm-step active">
              <div class="norm-level">1NF</div>
              <span>Atomic Values</span>
            </div>
            <div class="norm-arrow">‚Üí</div>
            <div class="norm-step">
              <div class="norm-level">2NF</div>
              <span>No Partial Dep.</span>
            </div>
            <div class="norm-arrow">‚Üí</div>
            <div class="norm-step">
              <div class="norm-level">3NF</div>
              <span>No Transitive Dep.</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 9: 1NF -->
      <section class="slide" data-slide="9">
        <div class="slide-content">
          <h2>1Ô∏è‚É£ First Normal Form (1NF)</h2>
          <div class="rule-box">
            <h4>Quy t·∫Øc:</h4>
            <ul>
              <li>
                M·ªói c·ªôt ch·ª©a gi√° tr·ªã <strong>atomic</strong> (kh√¥ng th·ªÉ chia
                nh·ªè)
              </li>
              <li>Kh√¥ng c√≥ <strong>nh√≥m l·∫∑p l·∫°i</strong></li>
              <li>M·ªói row ph·∫£i <strong>duy nh·∫•t</strong> (c√≥ primary key)</li>
            </ul>
          </div>
          <div class="comparison">
            <div class="bad-example">
              <h4>‚ùå Vi ph·∫°m 1NF</h4>
              <table class="mini-table">
                <tr>
                  <th>user_id</th>
                  <th>phones</th>
                </tr>
                <tr>
                  <td>1</td>
                  <td>0123, 0456, 0789</td>
                </tr>
              </table>
              <p>‚Üí Nhi·ªÅu gi√° tr·ªã trong 1 c·ªôt!</p>
            </div>
            <div class="good-example">
              <h4>‚úÖ Tu√¢n th·ªß 1NF</h4>
              <table class="mini-table">
                <tr>
                  <th>phone_id</th>
                  <th>user_id</th>
                  <th>number</th>
                </tr>
                <tr>
                  <td>1</td>
                  <td>1</td>
                  <td>0123</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>1</td>
                  <td>0456</td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 10: 2NF -->
      <section class="slide" data-slide="10">
        <div class="slide-content">
          <h2>2Ô∏è‚É£ Second Normal Form (2NF)</h2>
          <p class="slide-description">
            √Åp d·ª•ng khi b·∫£ng c√≥ <strong>Composite Primary Key</strong> (kh√≥a
            ch√≠nh g·ªìm nhi·ªÅu c·ªôt)
          </p>

          <div class="comparison">
            <div class="bad-example">
              <h4>‚ùå Vi ph·∫°m 2NF</h4>
              <table class="mini-table">
                <tr>
                  <th>order_id</th>
                  <th>product_id</th>
                  <th>quantity</th>
                  <th>product_name</th>
                </tr>
                <tr>
                  <td>1</td>
                  <td>101</td>
                  <td>2</td>
                  <td>iPhone 15</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>101</td>
                  <td>1</td>
                  <td>iPhone 15</td>
                </tr>
              </table>
              <p>
                ‚Üí <code>product_name</code> l·∫∑p l·∫°i v√¨ ch·ªâ ph·ª• thu·ªôc
                <code>product_id</code>
              </p>
            </div>
            <div class="good-example">
              <h4>‚úÖ Tu√¢n th·ªß 2NF</h4>
              <div class="two-tables">
                <table class="mini-table">
                  <tr>
                    <th colspan="3">order_items</th>
                  </tr>
                  <tr>
                    <td>order_id</td>
                    <td>product_id</td>
                    <td>quantity</td>
                  </tr>
                </table>
                <span class="table-plus">+</span>
                <table class="mini-table">
                  <tr>
                    <th colspan="2">products</th>
                  </tr>
                  <tr>
                    <td>product_id</td>
                    <td>product_name</td>
                  </tr>
                </table>
              </div>
              <p>‚Üí T√°ch <code>product_name</code> ra b·∫£ng ri√™ng!</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 11: 3NF -->
      <section class="slide" data-slide="11">
        <div class="slide-content">
          <h2>3Ô∏è‚É£ Third Normal Form (3NF)</h2>
          <p class="slide-description">
            Lo·∫°i b·ªè <strong>ph·ª• thu·ªôc b·∫Øc c·∫ßu</strong>: C·ªôt A ‚Üí C·ªôt B ‚Üí C·ªôt C (C
            ph·ª• thu·ªôc gi√°n ti·∫øp v√†o A)
          </p>

          <div class="comparison">
            <div class="bad-example">
              <h4>‚ùå Vi ph·∫°m 3NF</h4>
              <table class="mini-table">
                <tr>
                  <th>emp_id</th>
                  <th>emp_name</th>
                  <th>dept_id</th>
                  <th>dept_name</th>
                </tr>
                <tr>
                  <td>1</td>
                  <td>Xu√¢n</td>
                  <td>D01</td>
                  <td>IT</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Nam</td>
                  <td>D01</td>
                  <td>IT</td>
                </tr>
              </table>
              <p>
                ‚Üí <code>dept_name</code> ph·ª• thu·ªôc <code>dept_id</code>, kh√¥ng
                ph·∫£i <code>emp_id</code>
              </p>
            </div>
            <div class="good-example">
              <h4>‚úÖ Tu√¢n th·ªß 3NF</h4>
              <div class="two-tables">
                <table class="mini-table">
                  <tr>
                    <th colspan="3">employees</th>
                  </tr>
                  <tr>
                    <td>emp_id</td>
                    <td>emp_name</td>
                    <td>dept_id</td>
                  </tr>
                </table>
                <span class="table-plus">+</span>
                <table class="mini-table">
                  <tr>
                    <th colspan="2">departments</th>
                  </tr>
                  <tr>
                    <td>dept_id</td>
                    <td>dept_name</td>
                  </tr>
                </table>
              </div>
              <p>
                ‚Üí T√°ch <code>dept_name</code> ra b·∫£ng <code>departments</code>!
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 12: Ph·∫ßn 3 Intro -->
      <section class="slide" data-slide="12">
        <div class="slide-content">
          <div class="section-badge">Ph·∫ßn 3</div>
          <h2>üîß Database Schema & Migrations</h2>
          <p class="slide-description">
            X√¢y d·ª±ng c·∫•u tr√∫c database v·ªõi Laravel
          </p>
          <div class="section-preview">
            <div class="preview-item">
              <span class="preview-icon">üìù</span>
              <span>Quy T·∫Øc ƒê·∫∑t T√™n</span>
            </div>
            <div class="preview-item">
              <span class="preview-icon">üîß</span>
              <span>Migration N√¢ng Cao</span>
            </div>
            <div class="preview-item">
              <span class="preview-icon">üîó</span>
              <span>Foreign Key Actions</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 13: Naming Conventions -->
      <section class="slide" data-slide="13">
        <div class="slide-content">
          <h2>üìù Quy T·∫Øc ƒê·∫∑t T√™n Trong Laravel</h2>
          <table class="styled-table">
            <thead>
              <tr>
                <th>Th√†nh ph·∫ßn</th>
                <th>Quy ∆∞·ªõc</th>
                <th>V√≠ d·ª•</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge-sm blue">Model</span></td>
                <td>PascalCase, s·ªë √≠t</td>
                <td><code>User</code>, <code>BlogPost</code></td>
              </tr>
              <tr>
                <td><span class="badge-sm green">Table</span></td>
                <td>snake_case, s·ªë nhi·ªÅu</td>
                <td><code>users</code>, <code>blog_posts</code></td>
              </tr>
              <tr>
                <td><span class="badge-sm purple">Foreign Key</span></td>
                <td>singular_id</td>
                <td><code>user_id</code>, <code>post_id</code></td>
              </tr>
              <tr>
                <td><span class="badge-sm orange">Pivot Table</span></td>
                <td>singular_singular (alphabet)</td>
                <td><code>post_tag</code>, <code>role_user</code></td>
              </tr>
            </tbody>
          </table>
          <div class="tip-box">
            üí° <strong>Tip:</strong> Tu√¢n th·ªß quy ∆∞·ªõc gi√∫p Eloquent ho·∫°t ƒë·ªông t·ª±
            ƒë·ªông!
          </div>
        </div>
      </section>

      <!-- Slide 13: Migration -->
      <section class="slide" data-slide="13">
        <div class="slide-content">
          <h2>üîß Migration N√¢ng Cao</h2>
          <div class="migration-layout">
            <div class="migration-code">
              <pre><code class="language-php">Schema::create('products', function (Blueprint $table) {
    $table->id();
    $table->string('name', 255);
    $table->decimal('price', 10, 2);
    
    $table->foreignId('category_id')
        ->constrained()
        ->cascadeOnUpdate()
        ->restrictOnDelete();
    
    $table->index(['status', 'created_at']);
    $table->fullText('name');
    
    $table->timestamps();
    $table->softDeletes();
});</code></pre>
            </div>
            <div class="migration-explain">
              <div class="explain-item">
                <span class="explain-code">id()</span>
                <span class="explain-desc"
                  >Auto-increment primary key (BIGINT)</span
                >
              </div>
              <div class="explain-item">
                <span class="explain-code">string('name', 255)</span>
                <span class="explain-desc">VARCHAR v·ªõi max length</span>
              </div>
              <div class="explain-item">
                <span class="explain-code">decimal('price', 10, 2)</span>
                <span class="explain-desc">S·ªë th·∫≠p ph√¢n (8 s·ªë + 2 s·ªë l·∫ª)</span>
              </div>
              <div class="explain-item">
                <span class="explain-code">foreignId()->constrained()</span>
                <span class="explain-desc">FK t·ª± ƒë·ªông link ƒë·∫øn b·∫£ng</span>
              </div>
              <div class="explain-item">
                <span class="explain-code">index(['a', 'b'])</span>
                <span class="explain-desc"
                  >Composite index cho query nhanh</span
                >
              </div>
              <div class="explain-item">
                <span class="explain-code">fullText('name')</span>
                <span class="explain-desc">Full-text search index</span>
              </div>
              <div class="explain-item">
                <span class="explain-code">timestamps()</span>
                <span class="explain-desc">created_at + updated_at</span>
              </div>
              <div class="explain-item">
                <span class="explain-code">softDeletes()</span>
                <span class="explain-desc">deleted_at cho soft delete</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 14: Foreign Key Actions -->
      <section class="slide" data-slide="14">
        <div class="slide-content">
          <h2>üîó Foreign Key Actions</h2>
          <table class="styled-table">
            <thead>
              <tr>
                <th>Action</th>
                <th>Khi Delete</th>
                <th>Khi Update</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>cascade</code></td>
                <td>X√≥a lu√¥n child records</td>
                <td>C·∫≠p nh·∫≠t FK</td>
              </tr>
              <tr>
                <td><code>restrict</code></td>
                <td>Ch·∫∑n x√≥a n·∫øu c√≥ child</td>
                <td>Ch·∫∑n update</td>
              </tr>
              <tr>
                <td><code>setNull</code></td>
                <td>Set FK = NULL</td>
                <td>Set FK = NULL</td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-php">$table->foreignId('user_id')
    ->constrained()
    ->cascadeOnDelete()    // X√≥a user ‚Üí X√≥a lu√¥n posts
    ->cascadeOnUpdate();   // Update user.id ‚Üí Update posts.user_id</code></pre>
        </div>
      </section>

      <!-- Slide 15: Relationships Intro -->
      <section class="slide" data-slide="15">
        <div class="slide-content">
          <div class="section-badge">Ph·∫ßn 4</div>
          <h2>üîÑ Eloquent Relationships</h2>
          <div class="relationship-cards">
            <button class="rel-card" onclick="goToSlide(13)">
              <div class="rel-icon">1:1</div>
              <h4>One-to-One</h4>
              <code>hasOne / belongsTo</code>
              <p>User ‚Üî Profile</p>
            </button>
            <button class="rel-card" onclick="goToSlide(14)">
              <div class="rel-icon">1:N</div>
              <h4>One-to-Many</h4>
              <code>hasMany / belongsTo</code>
              <p>User ‚Üí Posts</p>
            </button>
            <button class="rel-card" onclick="goToSlide(15)">
              <div class="rel-icon">N:M</div>
              <h4>Many-to-Many</h4>
              <code>belongsToMany</code>
              <p>Users ‚Üî Roles</p>
            </button>
            <button class="rel-card" onclick="goToSlide(16)">
              <div class="rel-icon">üîÄ</div>
              <h4>Polymorphic</h4>
              <code>morphTo / morphMany</code>
              <p>Comments ‚Üí Posts/Videos</p>
            </button>
          </div>
        </div>
      </section>

      <!-- Slide 16: One-to-One -->
      <section class="slide" data-slide="16">
        <div class="slide-content">
          <h2>1:1 One-to-One Relationship</h2>
          <div class="two-columns">
            <div class="column">
              <div class="er-diagram">
                <div class="er-table">
                  <div class="er-header">users</div>
                  <div class="er-row pk">id (PK)</div>
                  <div class="er-row">email</div>
                  <div class="er-row">password</div>
                </div>
                <div class="er-relation">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ1:1‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</div>
                <div class="er-table">
                  <div class="er-header">profiles</div>
                  <div class="er-row pk">id (PK)</div>
                  <div class="er-row fk">user_id (FK, UK)</div>
                  <div class="er-row">avatar</div>
                </div>
              </div>
            </div>
            <div class="column">
              <pre><code class="language-php">// User Model
public function profile(): HasOne
{
    return $this->hasOne(Profile::class);
}

// Profile Model
public function user(): BelongsTo
{
    return $this->belongsTo(User::class);
}

// S·ª≠ d·ª•ng
$user->profile;
$profile->user;</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 17: One-to-Many -->
      <section class="slide" data-slide="17">
        <div class="slide-content">
          <h2>1:N One-to-Many Relationship</h2>
          <div class="two-columns">
            <div class="column">
              <div class="er-diagram">
                <div class="er-table">
                  <div class="er-header">users</div>
                  <div class="er-row pk">id (PK)</div>
                  <div class="er-row">name</div>
                </div>
                <div class="er-relation">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ1:N‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</div>
                <div class="er-table">
                  <div class="er-header">posts</div>
                  <div class="er-row pk">id (PK)</div>
                  <div class="er-row fk">user_id (FK)</div>
                  <div class="er-row">title</div>
                </div>
              </div>
            </div>
            <div class="column">
              <pre><code class="language-php">// User Model
public function posts(): HasMany
{
    return $this->hasMany(Post::class);
}

// Post Model  
public function user(): BelongsTo
{
    return $this->belongsTo(User::class);
}

// S·ª≠ d·ª•ng
$user->posts;              // Collection
$user->posts()->create([...]);</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 18: Many-to-Many -->
      <section class="slide" data-slide="18">
        <div class="slide-content">
          <h2>N:M Many-to-Many Relationship</h2>
          <div class="pivot-diagram">
            <div class="er-table">
              <div class="er-header">users</div>
              <div class="er-row pk">id</div>
              <div class="er-row">name</div>
            </div>
            <div class="pivot-arrows">
              <span>‚Üê</span>
              <div class="er-table pivot">
                <div class="er-header">role_user</div>
                <div class="er-row fk">user_id</div>
                <div class="er-row fk">role_id</div>
                <div class="er-row">expires_at</div>
              </div>
              <span>‚Üí</span>
            </div>
            <div class="er-table">
              <div class="er-header">roles</div>
              <div class="er-row pk">id</div>
              <div class="er-row">name</div>
            </div>
          </div>
          <pre><code class="language-php">// C√°c ph∆∞∆°ng th·ª©c pivot
$user->roles()->attach($roleId);           // G·∫Øn
$user->roles()->detach($roleId);           // G·ª°
$user->roles()->sync([1, 2, 3]);           // ƒê·ªìng b·ªô
$user->roles()->toggle([1, 2]);            // Toggle</code></pre>
        </div>
      </section>

      <!-- Slide 19: Polymorphic -->
      <section class="slide" data-slide="19">
        <div class="slide-content">
          <h2>üîÄ Polymorphic Relationships</h2>
          <p class="slide-description">
            M·ªôt model c√≥ th·ªÉ thu·ªôc v·ªÅ nhi·ªÅu lo·∫°i model kh√°c nhau th√¥ng qua m·ªôt
            b·∫£ng duy nh·∫•t
          </p>
          <div class="two-columns">
            <div class="column">
              <h4>üìã C√°c lo·∫°i Polymorphic</h4>
              <div class="poly-types">
                <div class="poly-type">
                  <span class="poly-type-name">morphOne / morphTo</span>
                  <span class="poly-type-desc"
                    >1 parent ‚Üí 1 child (VD: User ‚Üí Image)</span
                  >
                </div>
                <div class="poly-type">
                  <span class="poly-type-name">morphMany / morphTo</span>
                  <span class="poly-type-desc"
                    >1 parent ‚Üí N children (VD: Post ‚Üí Comments)</span
                  >
                </div>
                <div class="poly-type">
                  <span class="poly-type-name"
                    >morphToMany / morphedByMany</span
                  >
                  <span class="poly-type-desc"
                    >N:M qua pivot (VD: Posts ‚Üî Tags)</span
                  >
                </div>
              </div>
            </div>
            <div class="column">
              <h4>üóÉÔ∏è C·∫•u tr√∫c b·∫£ng</h4>
              <div class="poly-table-structure">
                <table class="mini-table poly-table">
                  <tr>
                    <th colspan="3">comments</th>
                  </tr>
                  <tr>
                    <td>id</td>
                    <td>commentable_<strong>type</strong></td>
                    <td>commentable_<strong>id</strong></td>
                  </tr>
                  <tr class="example-row">
                    <td>1</td>
                    <td>App\Models\Post</td>
                    <td>5</td>
                  </tr>
                  <tr class="example-row">
                    <td>2</td>
                    <td>App\Models\Video</td>
                    <td>3</td>
                  </tr>
                </table>
                <div class="poly-note">
                  üí° <code>morphs('commentable')</code> t·ª± t·∫°o 2 c·ªôt n√†y
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 20: Polymorphic Example -->
      <section class="slide" data-slide="20">
        <div class="slide-content">
          <h2>üîÄ V√≠ D·ª•: H·ªá Th·ªëng Comments ƒêa NƒÉng</h2>
          <p class="slide-description">
            M·ªôt b·∫£ng comments ph·ª•c v·ª• cho Posts, Videos, v√† Products
          </p>
          <div class="poly-example-diagram">
            <div class="poly-parents">
              <div class="poly-parent-box post">
                <span class="poly-icon">üìù</span>
                <span>Post</span>
              </div>
              <div class="poly-parent-box video">
                <span class="poly-icon">üé¨</span>
                <span>Video</span>
              </div>
              <div class="poly-parent-box product">
                <span class="poly-icon">üõçÔ∏è</span>
                <span>Product</span>
              </div>
            </div>
            <div class="poly-arrows">
              <span>‚Üò</span>
              <span>‚Üì</span>
              <span>‚Üô</span>
            </div>
            <div class="poly-child-box">
              <span class="poly-icon">üí¨</span>
              <span>Comment</span>
              <span class="poly-relation">morphTo()</span>
            </div>
          </div>
          <div class="two-columns poly-code-columns">
            <div class="column">
              <pre><code class="language-php">// Comment Model
public function commentable(): MorphTo
{
    return $this->morphTo();
}

// Migration
$table->morphs('commentable');
// ‚Üí commentable_type + commentable_id</code></pre>
            </div>
            <div class="column">
              <pre><code class="language-php">// Post/Video/Product Model
public function comments(): MorphMany
{
    return $this->morphMany(Comment::class, 
        'commentable');
}

// S·ª≠ d·ª•ng
$post->comments;
$video->comments()->create([...]);</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 21: Has Many Through -->
      <section class="slide" data-slide="21">
        <div class="slide-content">
          <h2>üîó Has Many Through</h2>
          <p class="slide-description">
            Truy c·∫≠p relationship qua b·∫£ng trung gian (kh√¥ng c·∫ßn pivot)
          </p>

          <div class="hmt-diagram">
            <div class="hmt-table">
              <div class="hmt-header">countries</div>
              <div class="hmt-row">id, name</div>
            </div>
            <div class="hmt-arrow">‚Üí hasMany ‚Üí</div>
            <div class="hmt-table">
              <div class="hmt-header">users</div>
              <div class="hmt-row">id, country_id, name</div>
            </div>
            <div class="hmt-arrow">‚Üí hasMany ‚Üí</div>
            <div class="hmt-table">
              <div class="hmt-header">posts</div>
              <div class="hmt-row">id, user_id, title</div>
            </div>
          </div>

          <pre><code class="language-php">// Country Model
public function posts(): HasManyThrough
{
    return $this->hasManyThrough(Post::class, User::class);
}

// S·ª≠ d·ª•ng: L·∫•y t·∫•t c·∫£ posts c·ªßa m·ªôt country
$country->posts; // B·ªè qua b·∫£ng users!</code></pre>
        </div>
      </section>

      <!-- Slide 22: Ph·∫ßn 5 Intro -->
      <section class="slide" data-slide="22">
        <div class="slide-content">
          <div class="section-badge">Ph·∫ßn 5</div>
          <h2>‚ö° Query Optimization</h2>
          <p class="slide-description">T·ªëi ∆∞u h√≥a hi·ªáu su·∫•t database queries</p>
          <div class="section-preview">
            <div class="preview-item">
              <span class="preview-icon">üîÑ</span>
              <span>N+1 Problem & Eager Loading</span>
            </div>
            <div class="preview-item">
              <span class="preview-icon">üì¶</span>
              <span>Select Specific Columns</span>
            </div>
            <div class="preview-item">
              <span class="preview-icon">üìä</span>
              <span>Chunk Large Data</span>
            </div>
            <div class="preview-item">
              <span class="preview-icon">üíæ</span>
              <span>Cache Queries</span>
            </div>
            <div class="preview-item">
              <span class="preview-icon">üóÇÔ∏è</span>
              <span>Indexing Strategies</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 23: N+1 Problem -->
      <section class="slide" data-slide="23">
        <div class="slide-content">
          <h2>üîÑ N+1 Problem ‚Üí Eager Loading</h2>
          <div class="comparison">
            <div class="bad-example">
              <h4>‚ùå N+1 Problem</h4>
              <pre><code class="language-php">$posts = Post::all();
foreach ($posts as $post) {
    echo $post->author->name;
    // Query cho M·ªñI post!
}</code></pre>
              <p class="query-count">üìä 11 queries cho 10 posts</p>
            </div>
            <div class="good-example">
              <h4>‚úÖ Eager Loading</h4>
              <pre><code class="language-php">$posts = Post::with('author')->get();
foreach ($posts as $post) {
    echo $post->author->name;
    // Kh√¥ng query th√™m!
}</code></pre>
              <p class="query-count">üìä Ch·ªâ 2 queries!</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 22: Select Specific Columns -->
      <section class="slide" data-slide="22">
        <div class="slide-content">
          <h2>üì¶ Select Specific Columns</h2>
          <p class="slide-description">
            Ch·ªâ l·∫•y nh·ªØng c·ªôt c·∫ßn thi·∫øt thay v√¨ SELECT *
          </p>
          <div class="comparison">
            <div class="bad-example">
              <h4>‚ùå L·∫•y t·∫•t c·∫£</h4>
              <pre><code class="language-php">// SELECT * FROM users
$users = User::all();
// T·ªën bandwidth + memory</code></pre>
            </div>
            <div class="good-example">
              <h4>‚úÖ Ch·ªâ l·∫•y c·∫ßn thi·∫øt</h4>
              <pre><code class="language-php">// SELECT id, name FROM users
$users = User::select('id', 'name')->get();

// V·ªõi relationship
User::with('posts:id,title,user_id');</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 23: Chunk Large Data -->
      <section class="slide" data-slide="23">
        <div class="slide-content">
          <h2>üìä Chunk Large Data</h2>
          <p class="slide-description">
            X·ª≠ l√Ω d·ªØ li·ªáu l·ªõn m√† kh√¥ng t·ªën h·∫øt RAM
          </p>
          <div class="comparison">
            <div class="bad-example">
              <h4>‚ùå Load t·∫•t c·∫£ v√†o RAM</h4>
              <pre><code class="language-php">// 1 tri·ªáu records ‚Üí Out of memory!
User::all()->each(function ($user) {
    $user->sendEmail();
});</code></pre>
            </div>
            <div class="good-example">
              <h4>‚úÖ Chunk t·ª´ng ph·∫ßn</h4>
              <pre><code class="language-php">// X·ª≠ l√Ω 100 records m·ªói l·∫ßn
User::chunk(100, function ($users) {
    foreach ($users as $user) {
        $user->sendEmail();
    }
});</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 24: Cache Queries -->
      <section class="slide" data-slide="24">
        <div class="slide-content">
          <h2>üíæ Cache Queries</h2>
          <p class="slide-description">
            Tr√°nh query l·∫∑p l·∫°i v·ªõi d·ªØ li·ªáu √≠t thay ƒë·ªïi
          </p>
          <div class="comparison">
            <div class="bad-example">
              <h4>‚ùå Query m·ªói request</h4>
              <pre><code class="language-php">// M·ªói request ƒë·ªÅu query
$settings = Setting::all();
$categories = Category::all();</code></pre>
            </div>
            <div class="good-example">
              <h4>‚úÖ Cache k·∫øt qu·∫£</h4>
              <pre><code class="language-php">$settings = Cache::remember('settings', 3600, 
    fn() => Setting::all()
);

// Ho·∫∑c v·ªõi tags
Cache::tags(['settings'])->remember(...);</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide: What is Index -->
      <section class="slide" data-slide="25">
        <div class="slide-content">
          <h2>üîç Index L√† G√¨?</h2>
          <p class="slide-description">
            Index l√† c·∫•u tr√∫c d·ªØ li·ªáu gi√∫p database t√¨m ki·∫øm nhanh h∆°n, gi·ªëng
            nh∆∞ m·ª•c l·ª•c s√°ch
          </p>
          <div class="two-columns">
            <div class="column">
              <h4>üìñ V√≠ d·ª• th·ª±c t·∫ø</h4>
              <div class="index-analogy">
                <div class="analogy-item">
                  <span class="analogy-icon">üìö</span>
                  <div class="analogy-content">
                    <strong>Kh√¥ng c√≥ Index</strong>
                    <span>ƒê·ªçc t·ª´ng trang ƒë·ªÉ t√¨m t·ª´ kh√≥a ‚Üí Ch·∫≠m!</span>
                  </div>
                </div>
                <div class="analogy-item success">
                  <span class="analogy-icon">üìë</span>
                  <div class="analogy-content">
                    <strong>C√≥ Index</strong>
                    <span>Tra m·ª•c l·ª•c ‚Üí ƒë·∫øn th·∫≥ng trang c·∫ßn ‚Üí Nhanh!</span>
                  </div>
                </div>
              </div>
              <div class="index-speed-compare">
                <div class="speed-item slow">
                  <span class="speed-label">Full Table Scan</span>
                  <div class="speed-bar">
                    <div class="speed-fill" style="width: 100%"></div>
                  </div>
                  <span class="speed-time">~500ms</span>
                </div>
                <div class="speed-item fast">
                  <span class="speed-label">Index Lookup</span>
                  <div class="speed-bar">
                    <div class="speed-fill" style="width: 5%"></div>
                  </div>
                  <span class="speed-time">~5ms</span>
                </div>
              </div>
            </div>
            <div class="column">
              <h4>üå≥ C·∫•u tr√∫c B+Tree (MySQL/InnoDB)</h4>
              <div class="bplus-diagram">
                <div class="bplus-level root">
                  <div class="bplus-node internal">[30 | 60]</div>
                </div>
                <div class="bplus-arrows">‚Üô ‚Üì ‚Üò</div>
                <div class="bplus-level internal-level">
                  <div class="bplus-node internal">[10|20]</div>
                  <div class="bplus-node internal">[40|50]</div>
                  <div class="bplus-node internal">[70|80]</div>
                </div>
                <div class="bplus-arrows">‚Üì ‚Üì ‚Üì</div>
                <div class="bplus-level leaf-level">
                  <div class="bplus-node leaf">10‚Üí20‚Üí</div>
                  <div class="bplus-node leaf">30‚Üí40‚Üí</div>
                  <div class="bplus-node leaf highlight">50‚Üí60‚Üí</div>
                  <div class="bplus-node leaf">70‚Üí80‚Üí90</div>
                </div>
                <div class="bplus-leaf-link">
                  ‚Üê Linked List gi·ªØa Leaf Nodes ‚Üí
                </div>
              </div>
              <div class="bplus-complexity">
                <span class="complexity-label">ƒê·ªô ph·ª©c t·∫°p:</span>
                <span class="complexity-value">O(log n)</span>
                <span class="complexity-example">1M rows ‚âà 20 b∆∞·ªõc</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 26: Index Types -->
      <section class="slide" data-slide="26">
        <div class="slide-content">
          <h2>üóÇÔ∏è C√°c Lo·∫°i Index</h2>
          <div class="index-types-grid">
            <div class="index-type-card">
              <div class="index-type-header primary">PRIMARY</div>
              <div class="index-type-body">
                <p>Kh√≥a ch√≠nh, m·ªói b·∫£ng ch·ªâ c√≥ 1</p>
                <code>$table->id();</code>
                <span class="index-note">T·ª± ƒë·ªông t·∫°o, unique + not null</span>
              </div>
            </div>
            <div class="index-type-card">
              <div class="index-type-header unique">UNIQUE</div>
              <div class="index-type-body">
                <p>Gi√° tr·ªã kh√¥ng ƒë∆∞·ª£c tr√πng l·∫∑p</p>
                <code>$table->unique('email');</code>
                <span class="index-note">Cho email, username, slug...</span>
              </div>
            </div>
            <div class="index-type-card">
              <div class="index-type-header composite">COMPOSITE</div>
              <div class="index-type-body">
                <p>Index nhi·ªÅu c·ªôt c√πng l√∫c</p>
                <code>$table->index(['status', 'date']);</code>
                <span class="index-note">Th·ª© t·ª± c·ªôt quan tr·ªçng!</span>
              </div>
            </div>
            <div class="index-type-card">
              <div class="index-type-header fulltext">FULLTEXT</div>
              <div class="index-type-body">
                <p>T√¨m ki·∫øm text trong n·ªôi dung d√†i</p>
                <code>$table->fullText('content');</code>
                <span class="index-note"
                  >Cho search box, t√¨m ki·∫øm b√†i vi·∫øt</span
                >
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 26: Indexing Strategies -->
      <section class="slide" data-slide="26">
        <div class="slide-content">
          <h2>üìä Indexing Strategies</h2>
          <table class="styled-table index-table">
            <thead>
              <tr>
                <th class="green-header">‚úÖ N√™n Index</th>
                <th class="red-header">‚ùå Kh√¥ng N√™n Index</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>C·ªôt trong <code>WHERE</code> clause</td>
                <td>C·ªôt hi·∫øm khi query</td>
              </tr>
              <tr>
                <td>C·ªôt trong <code>JOIN</code></td>
                <td>B·∫£ng nh·ªè (&lt; 1000 rows)</td>
              </tr>
              <tr>
                <td>C·ªôt trong <code>ORDER BY</code></td>
                <td>C·ªôt c√≥ nhi·ªÅu <code>NULL</code></td>
              </tr>
              <tr>
                <td>Foreign Keys</td>
                <td>C·ªôt th∆∞·ªùng xuy√™n update</td>
              </tr>
              <tr>
                <td>C·ªôt c√≥ cardinality cao</td>
                <td>Boolean columns</td>
              </tr>
            </tbody>
          </table>
          <div class="tip-box">
            üí° <strong>L∆∞u √Ω:</strong> D√πng <code>EXPLAIN</code> ƒë·ªÉ ph√¢n t√≠ch
            query performance!
          </div>
        </div>
      </section>

      <!-- Slide 27: Transactions -->
      <section class="slide" data-slide="27">
        <div class="slide-content">
          <h2>üîÑ Database Transactions</h2>
          <div class="two-columns">
            <div class="column">
              <div class="trans-methods">
                <div class="trans-method">
                  <h4>üì¶ Closure (Auto)</h4>
                  <pre><code class="language-php">DB::transaction(function () {
    User::create([...]);
    Profile::create([...]);
}); // Auto commit/rollback</code></pre>
                </div>
                <div class="trans-method">
                  <h4>üéõÔ∏è Manual Control</h4>
                  <pre><code class="language-php">DB::beginTransaction();
try {
    // operations...
    DB::commit();
} catch (\Exception $e) {
    DB::rollBack();
}</code></pre>
                </div>
              </div>
            </div>
            <div class="column">
              <div class="rule-box">
                <h4>‚ö†Ô∏è Khi n√†o d√πng?</h4>
                <ul>
                  <li>T·∫°o nhi·ªÅu records li√™n quan</li>
                  <li>Chuy·ªÉn ti·ªÅn, thay ƒë·ªïi s·ªë d∆∞</li>
                  <li>C·∫≠p nh·∫≠t d·ªØ li·ªáu quan tr·ªçng</li>
                  <li>Import/Export batch data</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 28: Soft Deletes -->
      <section class="slide" data-slide="28">
        <div class="slide-content">
          <h2>üóëÔ∏è Soft Deletes</h2>
          <p class="slide-description">
            ƒê√°nh d·∫•u "ƒë√£ x√≥a" thay v√¨ x√≥a th·∫≠t - D·ªØ li·ªáu v·∫´n c√≤n trong DB
          </p>

          <div class="soft-delete-grid">
            <div class="sd-card">
              <h4>üìù Setup</h4>
              <pre><code class="language-php">// Migration
$table->softDeletes();

// Model
use SoftDeletes;</code></pre>
            </div>
            <div class="sd-card">
              <h4>üîç Query</h4>
              <pre><code class="language-php">User::all();          // Kh√¥ng c√≥ deleted
User::withTrashed();  // T·∫•t c·∫£
User::onlyTrashed();  // Ch·ªâ deleted</code></pre>
            </div>
            <div class="sd-card">
              <h4>‚ôªÔ∏è Restore</h4>
              <pre><code class="language-php">$user->restore();
// deleted_at = NULL</code></pre>
            </div>
            <div class="sd-card">
              <h4>üíÄ Force Delete</h4>
              <pre><code class="language-php">$user->forceDelete();
// X√≥a vƒ©nh vi·ªÖn!</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 32: Ph·∫ßn 6 Intro -->
      <section class="slide" data-slide="32">
        <div class="slide-content">
          <div class="section-badge">Ph·∫ßn 6</div>
          <h2>‚ú® Best Practices & Patterns</h2>
          <p class="slide-description">C√°c quy t·∫Øc v√† m·∫´u thi·∫øt k·∫ø t·ªët nh·∫•t</p>
          <div class="section-preview">
            <div class="preview-item">
              <span class="preview-icon">‚úÖ</span>
              <span>Best Practices</span>
            </div>
            <div class="preview-item">
              <span class="preview-icon">‚ö†Ô∏è</span>
              <span>Anti-patterns C·∫ßn Tr√°nh</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 33: Best Practices -->
      <section class="slide" data-slide="33">
        <div class="slide-content">
          <h2>‚ú® Best Practices</h2>
          <div class="best-practices-grid">
            <div class="bp-item">
              <span class="bp-icon">üîó</span>
              <span>Lu√¥n d√πng Foreign Key constraints</span>
            </div>
            <div class="bp-item">
              <span class="bp-icon">üìä</span>
              <span>Index c√°c c·ªôt trong WHERE, JOIN, ORDER BY</span>
            </div>
            <div class="bp-item">
              <span class="bp-icon">üîÑ</span>
              <span>S·ª≠ d·ª•ng Eager Loading tr√°nh N+1</span>
            </div>
            <div class="bp-item">
              <span class="bp-icon">üíæ</span>
              <span>D√πng Transactions cho data integrity</span>
            </div>
            <div class="bp-item">
              <span class="bp-icon">üóëÔ∏è</span>
              <span>Soft Deletes cho d·ªØ li·ªáu quan tr·ªçng</span>
            </div>
            <div class="bp-item">
              <span class="bp-icon">üìù</span>
              <span>Tu√¢n th·ªß naming conventions</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 30: Anti-patterns -->
      <section class="slide" data-slide="30">
        <div class="slide-content">
          <h2>‚ö†Ô∏è Anti-patterns C·∫ßn Tr√°nh</h2>
          <div class="anti-patterns">
            <div class="anti-item">
              <code class="bad"
                >$table->string('tags'); // "php,laravel,vue"</code
              >
              <span class="fix">‚Üí D√πng pivot table</span>
            </div>
            <div class="anti-item">
              <code class="bad">$table->text('phone');</code>
              <span class="fix"
                >‚Üí <code>$table->string('phone', 20);</code></span
              >
            </div>
            <div class="anti-item">
              <code class="bad">$table->unsignedBigInteger('user_id');</code>
              <span class="fix"
                >‚Üí
                <code>$table->foreignId('user_id')->constrained();</code></span
              >
            </div>
            <div class="anti-item">
              <code class="bad"
                >DB::select('SELECT * FROM users WHERE id = ?', [$id]);</code
              >
              <span class="fix">‚Üí <code>User::find($id);</code></span>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 31: Summary -->
      <section class="slide" data-slide="31">
        <div class="slide-content">
          <h2>üìã T·ªïng K·∫øt</h2>
          <div class="summary-grid">
            <div class="summary-item">
              <span class="summary-icon">üéØ</span>
              <div>
                <strong>Thi·∫øt k·∫ø Database</strong>
                <span>ACID, Normalization (1NF‚Üí3NF)</span>
              </div>
            </div>
            <div class="summary-item">
              <span class="summary-icon">üîß</span>
              <div>
                <strong>Laravel Tools</strong>
                <span>Migrations, Eloquent, Foreign Keys</span>
              </div>
            </div>
            <div class="summary-item">
              <span class="summary-icon">üîó</span>
              <div>
                <strong>Relationships</strong>
                <span>1:1, 1:N, N:M, Polymorphic, Has Many Through</span>
              </div>
            </div>
            <div class="summary-item">
              <span class="summary-icon">‚ö°</span>
              <div>
                <strong>Performance</strong>
                <span>Eager Loading, Indexing, Caching</span>
              </div>
            </div>
            <div class="summary-item">
              <span class="summary-icon">üîí</span>
              <div>
                <strong>Data Integrity</strong>
                <span>Transactions, Soft Deletes, Constraints</span>
              </div>
            </div>
            <div class="summary-item">
              <span class="summary-icon">‚ú®</span>
              <div>
                <strong>Best Practices</strong>
                <span>Naming conventions, Anti-patterns</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 32: Thank You -->
      <section class="slide" data-slide="32">
        <div class="slide-content title-slide">
          <h1>üéâ C·∫£m ∆†n!</h1>
          <p class="subtitle">C√¢u h·ªèi & Th·∫£o lu·∫≠n</p>
          <div class="resources">
            <h4>üìö T√†i li·ªáu tham kh·∫£o:</h4>
            <ul>
              <li>
                <a href="https://laravel.com/docs/eloquent" target="_blank"
                  >Laravel Eloquent Documentation</a
                >
              </li>
              <li>
                <a href="https://laravel.com/docs/migrations" target="_blank"
                  >Laravel Database Migrations</a
                >
              </li>
            </ul>
          </div>
          <div class="end-nav">
            <button onclick="goToSlide(1)" class="btn-restart">
              ‚ü≤ B·∫Øt ƒë·∫ßu l·∫°i
            </button>
          </div>
        </div>
      </section>

      <!-- Navigation -->
      <nav class="slide-nav">
        <button id="prevBtn" onclick="prevSlide()">‚Üê</button>
        <span id="slideCounter">1 / 21</span>
        <button id="nextBtn" onclick="nextSlide()">‚Üí</button>
        <button
          id="fullscreenBtn"
          onclick="toggleFullscreen()"
          title="Fullscreen (F)"
        >
          ‚§¢
        </button>
      </nav>

      <!-- Slide Thumbnails -->
      <div class="thumbnails" id="thumbnails">
        <button class="thumb-toggle" onclick="toggleThumbnails()">‚ò∞</button>
        <div class="thumb-list" id="thumbList"></div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="presentation.js"></script>
  </body>
</html>
